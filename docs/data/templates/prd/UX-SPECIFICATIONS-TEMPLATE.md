# UX 规范文档（UX Specifications）

> **用途**：本模板由 PRD 专家在需求阶段创建，存放于 `/docs/data/ux-specifications.md`（全局）或 `/docs/prd-modules/{domain}/ux-specifications.md`（模块级）。仅在编写 UX 规范时读取，不随专家激活加载。

日期：YYYY-MM-DD  版本：v0  文档状态：草案 / 评审中 / 已确认

---

## 1. 用户研究摘要

### 1.1 研究方法
| 方法 | 类型 | 样本量 | 执行时间 | 关键产出 |
| ---- | ---- | ------ | -------- | -------- |
| 用户访谈 | 定性 | 5-8 人 | YYYY-MM | 痛点清单、需求优先级 |
| 问卷调查 | 定量 | 100+ 人 | YYYY-MM | 功能偏好统计 |
| 竞品分析 | 桌面研究 | 3-5 款 | YYYY-MM | 差异化机会 |
| 可用性测试 | 定性 | 3-5 人 | YYYY-MM | 交互改进点 |

### 1.2 用户画像（Persona）
> 与 PRD §3 用户角色保持一致。

| 画像名称 | 角色 | 核心目标 | 主要痛点 | 使用场景 | 关联 Story ID |
| -------- | ---- | -------- | -------- | -------- | ------------- |
| | | | | | |

### 1.3 痛点地图（Pain Point Map）
| 痛点描述 | 严重程度（1-5） | 频率（高/中/低） | 关联 Story ID | 设计机会 |
| -------- | --------------- | ---------------- | ------------- | -------- |
| | | | | |

---

## 2. 用户旅程地图（User Journey Map）

> 每个核心用户角色需覆盖端到端旅程。

### 旅程：[旅程名称]（关联角色：[角色名]）

| 阶段 | 用户行为 | 触点（Touchpoint） | 情绪 | 痛点/机会 | 关联 Story ID |
| ---- | -------- | ------------------ | ---- | --------- | ------------- |
| 发现 | | | 😊/😐/😞 | | |
| 注册 | | | | | |
| 首次使用 | | | | | |
| 持续使用 | | | | | |
| 流失/回归 | | | | | |

---

## 3. 信息架构（Information Architecture）

### 3.1 站点地图 / 应用导航结构

```
├── 首页
│   ├── 功能 A
│   │   ├── 子功能 A1
│   │   └── 子功能 A2
│   ├── 功能 B
│   └── 个人中心
│       ├── 设置
│       └── 帮助
```

### 3.2 导航策略
- 主导航模式：顶部导航 / 侧边栏 / 底部 Tab
- 搜索策略：全局搜索 / 分区搜索
- 面包屑：是 / 否

---

## 4. 线框图与原型索引

### 4.1 线框图清单

| 页面/视图 | 保真度 | 关联 Story ID | 设计工具链接 | 状态 |
| --------- | ------ | ------------- | ------------ | ---- |
| | 低保真/高保真 | | Figma/Sketch URL | 草稿/已评审/已确认 |

### 4.2 原型覆盖标准
- 低保真线框图：覆盖所有关键页面/视图
- 高保真原型：覆盖 P0 Story 的核心用户旅程
- 可用性测试：至少 3-5 人次，记录测试结果与迭代

### 4.3 交互行为说明
| 交互元素 | 触发方式 | 行为描述 | 反馈/动画 |
| -------- | -------- | -------- | --------- |
| | 点击/悬停/滑动/长按 | | |

---

## 5. 设计系统规范（Design System）

### 5.1 色彩系统

| Token 名称 | 用途 | Light 模式 | Dark 模式 | 说明 |
| ---------- | ---- | ---------- | --------- | ---- |
| --color-primary | 主操作色 | #XXXXXX | #XXXXXX | 按钮/链接 |
| --color-secondary | 辅助色 | #XXXXXX | #XXXXXX | 次要操作 |
| --color-success | 成功状态 | #XXXXXX | #XXXXXX | |
| --color-warning | 警告状态 | #XXXXXX | #XXXXXX | |
| --color-error | 错误状态 | #XXXXXX | #XXXXXX | |
| --color-bg-primary | 主背景 | #XXXXXX | #XXXXXX | |
| --color-text-primary | 主文本 | #XXXXXX | #XXXXXX | |

### 5.2 排版系统

| Token 名称 | 字体族 | 字号 | 行高 | 字重 | 用途 |
| ---------- | ------ | ---- | ---- | ---- | ---- |
| --font-heading-1 | | 32px | 1.2 | 700 | 页面标题 |
| --font-heading-2 | | 24px | 1.3 | 600 | 章节标题 |
| --font-body | | 16px | 1.5 | 400 | 正文 |
| --font-caption | | 12px | 1.4 | 400 | 辅助文字 |

### 5.3 间距系统

基础单位：4px（或 8px）

| Token 名称 | 值 | 用途 |
| ---------- | -- | ---- |
| --space-xs | 4px | 紧凑间距 |
| --space-sm | 8px | 小间距 |
| --space-md | 16px | 默认间距 |
| --space-lg | 24px | 大间距 |
| --space-xl | 32px | 区块间距 |
| --space-2xl | 48px | 页面级间距 |

### 5.4 其他视觉 Token

| 类别 | Token 名称 | 值 | 说明 |
| ---- | ---------- | -- | ---- |
| 圆角 | --radius-sm | 4px | 按钮/输入框 |
| 圆角 | --radius-md | 8px | 卡片 |
| 圆角 | --radius-lg | 16px | 弹窗/面板 |
| 阴影 | --shadow-sm | 0 1px 2px rgba(0,0,0,0.1) | 浮动元素 |
| 阴影 | --shadow-md | 0 4px 8px rgba(0,0,0,0.1) | 卡片 |
| 边框 | --border-default | 1px solid #E5E7EB | 默认边框 |

### 5.5 组件库

| 组件名称 | 状态覆盖 | 说明 |
| -------- | -------- | ---- |
| Button | 默认/悬停/激活/禁用/加载 | 主要/次要/文本/危险 4 种变体 |
| Input | 默认/聚焦/错误/禁用 | 含标签/占位符/帮助文本/错误提示 |
| Select | 默认/展开/选中/禁用 | |
| Modal | 打开/关闭 | 含标题/正文/操作按钮 |
| Toast | 成功/警告/错误/信息 | 自动消失时长 |
| ... | ... | 按项目需要补充 |

---

## 6. 响应式设计矩阵

### 6.1 断点定义

| 断点名称 | 宽度范围 | 布局策略 | 导航模式 | 备注 |
| -------- | -------- | -------- | -------- | ---- |
| Mobile S | 320-375px | 单列 | 底部导航 | 最小支持宽度 |
| Mobile L | 376-767px | 单列 | 底部导航 | |
| Tablet | 768-1023px | 双列 | 侧边栏/汉堡 | 横竖屏适配 |
| Desktop | 1024-1439px | 多列 | 顶部导航 | 主要目标设备 |
| Desktop L | ≥1440px | 多列（最大宽度限制） | 顶部导航 | |

### 6.2 触控适配
- 最小触控目标：44×44px（WCAG 2.5.8）
- 手势支持：滑动 / 缩放 / 长按（按需说明）

### 6.3 性能预算
| 指标 | 目标 | 测量条件 |
| ---- | ---- | -------- |
| 首次内容绘制（FCP） | < 1.8s | 4G 网络 |
| 最大内容绘制（LCP） | < 2.5s | 4G 网络 |
| 累积布局偏移（CLS） | < 0.1 | |
| 首次输入延迟（FID） | < 100ms | |
| 总包体积 | < 500KB | gzip 后 |

---

## 7. 无障碍访问（WCAG 2.1 AA）

### 7.1 可感知（Perceivable）
- [ ] 所有非文本内容提供替代文本（alt text）
- [ ] 色彩对比度：正文 ≥ 4.5:1，大文本 ≥ 3:1
- [ ] 不仅依赖颜色传达信息（错误状态需图标+文字）
- [ ] 视频/音频提供字幕或文字稿

### 7.2 可操作（Operable）
- [ ] 所有功能可通过键盘操作
- [ ] 焦点顺序合理且焦点指示器可见
- [ ] 无闪烁内容（频率 < 3Hz）
- [ ] 提供跳过导航功能（Skip to Content）
- [ ] 触控目标 ≥ 44×44px

### 7.3 可理解（Understandable）
- [ ] 页面语言正确标注（lang 属性）
- [ ] 表单标签清晰关联（label + for/id）
- [ ] 错误提示明确且提供修正建议
- [ ] 导航一致，行为可预测

### 7.4 健壮性（Robust）
- [ ] 语义化 HTML 结构（header/main/nav/footer/section/article）
- [ ] ARIA 属性正确使用（role/aria-label/aria-describedby）
- [ ] 屏幕阅读器兼容（NVDA / VoiceOver / TalkBack）

### 7.5 验证工具
| 工具 | 用途 | 验证阶段 |
| ---- | ---- | -------- |
| axe-core | 自动化无障碍扫描 | TDD（CI 集成） |
| Lighthouse Accessibility | 综合评分 | TDD / QA |
| WAVE | 页面级检查 | QA |
| NVDA / VoiceOver | 屏幕阅读器测试 | QA |

---

## 8. 设计-开发交接清单

### 8.1 交接文档
- [ ] 设计标注完整（尺寸/间距/色值/字号）
- [ ] 组件映射表就绪（设计组件名 → 代码组件名）
- [ ] 所有交互状态标注（默认/悬停/激活/禁用/错误/加载/空状态）
- [ ] 动画/过渡规范（时长/缓动函数/触发条件）
- [ ] 资源导出完成（图标 SVG / 图片 / 字体文件）

### 8.2 交接流程
1. PRD 专家在本文件记录交接要点与设计工具链接
2. TDD 专家根据本文件 + 设计标注实现
3. 实现偏差需回溯本文件确认
4. QA 专家验证实现与设计稿一致性

### 8.3 设计 QA 验收标准
- [ ] 视觉还原度 ≥ 95%（关键页面）
- [ ] 交互行为与原型一致
- [ ] WCAG AA 检查通过
- [ ] 响应式断点适配验证通过
- [ ] 暗色模式验证通过（如适用）

---

## 9. 版本记录

| 版本 | 日期 | 变更内容 | 作者 |
| ---- | ---- | -------- | ---- |
| v0 | YYYY-MM-DD | 初始版本 | @author |
