{
  // ============================================================================
  // Claude Code 团队共享配置（方案 C）
  // 用途：为 AGENTS 路由系统优化，平衡安全性和便利性
  // 提交状态：应提交到 Git 仓库，供团队成员共享
  // 覆盖：个人可在 .claude/settings.local.json 中覆盖此配置
  // ============================================================================

  // --- 权限配置 ---
  "permissions": {
    // 自动允许的操作（无需确认）
    "allow": [
      // Git 基础操作
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git status:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)",

      // 文档编辑（AGENTS 系统核心需求）
      "Edit(docs/**)",
      "Edit(AgentRoles/**)",
      "Write(docs/**)",
      "Write(AgentRoles/**)"
    ],

    // 禁止的操作（保护敏感文件和防止危险操作）
    "deny": [
      // 敏感文件保护
      "Edit(.env*)",
      "Write(.env*)",

      // 数据库迁移保护（确保数据一致性）
      "Edit(db/migrations/*)",
      "Write(db/migrations/*)",

      // 状态文件保护（由流程控制，禁止 AI 直接修改）
      "Edit(docs/AGENT_STATE.md)",

      // 危险命令保护
      "Bash(rm -rf*)",
      "Bash(git push --force*)",
      "Bash(git reset --hard*)"
    ],

    // 需要确认的操作（提高安全性）
    "ask": [
      // 依赖安装（防止供应链攻击）
      "Bash(npm install*)",
      "Bash(pnpm install*)",

      // 推送代码（需要人工审核）
      "Bash(git push*)",

      // 网络访问（安全考虑）
      "WebFetch(domain:*)"
    ]
  },

  // --- 其他设置 ---
  // 保留 Claude 的 Co-Authored-By 署名
  "includeCoAuthoredBy": true,

  // 自动清理 30 天前的对话历史
  "cleanupPeriodDays": 30
}
